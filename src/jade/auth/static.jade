//- module
- if(!authPanelTitle) authPanelTitle = "Don't Worry, It's Free!"
- if(!authPanelDesc) authPanelDesc = "sign into loading.io now"
.panel.panel-defaut
  .closebtn.lg(ng-click="auth.ctrl.toggle()")
  .panel-header
    .text-center(style="font-size:1.5em;margin-top:20px")
      span= authPanelTitle
      .block.light.tiny= authPanelDesc
  .panel-body
    .sep.gap
    form.form
      .form-group(ng-class="{'has-error':auth.error.email,'has-feedback':auth.error.email}")
        label Email
        input.form-control(type="text",placeholder="Email",ng-model="auth.email",
        tabindex=1)
        .form-control-feedback.with-text.up-tag(ng-show="auth.error.email") {{auth.error.email}}
        .form-control-feedback(ng-show="auth.error.email") #[i.fa.fa-close]
      .form-group(ng-show="!auth.isSignIn",
      ng-class="{'has-error':auth.error.displayname,'has-feedback':auth.error.displayname}")
        label Display Name
        input.form-control(type="text",placeholder="like 'J. Doe'",ng-model="auth.displayname",
        tabindex=2)
        .form-control-feedback.with-text.up-tag(ng-show="auth.error.displayname") {{auth.error.displayname}}
        .form-control-feedback(ng-show="auth.error.displayname") #[i.fa.fa-close]
      .form-group(ng-class="{'has-error':auth.error.passwd,'has-feedback':auth.error.passwd}")
        label Password
        input.form-control(type="password",placeholder="Password",ng-model="auth.passwd",
        tabindex=3)
        .form-control-feedback.with-text.up-tag(ng-show="auth.error.passwd") {{auth.error.passwd}}
        .form-control-feedback(ng-show="auth.error.passwd") #[i.fa.fa-close]

      .btn.btn-block.btn-success.btn-lg.ld.ld-ext-right(ng-click="auth.login()",ng-cloak,
      ng-class="{'running':auth.loading}")
        span(ng-show="!auth.isSignIn") SIGNUP
        span(ng-show="auth.isSignIn") LOGIN
        .ld.ld-ring.ld-spin-fast
      .row(style="margin:10px 0")
        .col-sm-6.textx-left(style="padding-left:0")
          .checkbox(ng-show="!auth.isSignIn",style="margin:3px 0;font-size:12px;")
            label #[input(type="checkbox",style="margin-top:2px",ng-model="auth.subscribe")] subscribe newsletter
        .col-sm-6.text-right
          a(href="/auth/reset/",style="margin-top:16px;font-size:12px;") forgot password? &#xbb;
    div(style="position:relative")
      .text-center: span(style="background:#fff;padding:0 10px") or login with
      .sep.gap(style="margin:-10px 0 20px")
    #authpanel-social-login.row
      .col-xs-6
        a.btn.btn-default.btn-block(ng-attr-href="/u/auth/facebook?nexturl={{nexturl || ''}}",target="_blank",
        style="background:#4368b3;color:#fff;font-size:16px;border-color:#4368b3") #[i.fa.fa-facebook-official] Facebook
      .col-xs-6
        //-TODO: use iframe or popup
        //-,onclick="window.open('/u/auth/google?nexturl=/','plotdb-google-signin','left=20,top=20,width=500,height=500,toolbar=1,resizable=0');return false;")
        a.btn.btn-default.btn-block(ng-attr-href="/u/auth/google?nexturl={{nexturl || ''}}",target="_blank",
        style="font-size:16px",href='#')
          svg(version="1.1",xmlns="http://www.w3.org/2000/svg",width="14px",height="14px",
          viewBox="0 0 48 48",style="display:inline;position:relative;top:2px"): g
            path(fill="#EA4335",d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z")
            path(fill="#4285F4",d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z")
            path(fill="#FBBC05",d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z")
            path(fill="#34A853",d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z")
            path(fill="none",d="M0 0h48v48H0z")
          span &nbsp;Google
        //- this is for Client side login ( very convenient but not there )
        //-.g-signin2(data-onsuccess="onSignIn")
  //-.panel-footer.text-center(ng-cloak)
    span(ng-show="auth.isSignIn") Newcomer here? #[a(href="#",ng-click="auth.isSignIn=false") Sign up &#xbb;]
    span(ng-show="!auth.isSignIn") Already a member? #[a(href="#",ng-click="auth.isSignIn=true") Sign In &#xbb;]
.text-center(ng-cloak,style="color:#fff")
  span(ng-show="auth.isSignIn") Newcomer here? #[a(href="#",ng-click="auth.isSignIn=false") Sign up &#xbb;]
  span(ng-show="!auth.isSignIn") Already a member? #[a(href="#",ng-click="auth.isSignIn=true") Sign In &#xbb;]

