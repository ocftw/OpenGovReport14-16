function import$(n,e){var t={}.hasOwnProperty;for(var r in e)t.call(e,r)&&(n[r]=e[r]);return n}var x$,slice$=[].slice;x$=angular.module("ldBase",[]),x$.service("fileTool",["$rootScope"].concat(function(){return import$(this,{smilToGif:function(n,e,t,r,i,u){return null==r&&(r=30),null==i&&(i=null),null==u&&(u=function(){}),new Promise(function(o){var s;return n.pauseAnimations(),i||(i=new GIF({workers:1,quality:10,width:200,height:200,transparent:16777215})),i.on("finished",function(e){return n.unpauseAnimations(),u(100),o(e)}),(s=function(o){return o>=r?i.render():(n.setCurrentTime(t*o/r),u(100*o/r),domtoimage.toPng(e,{filter:function(n){return"animate"!==n.tagName},bgcolor:"rgba(255,255,255,0)"}).then(function(n){var e;return e=new Image,e.onload=function(){return i.addFrame(e,{delay:Math.round(1e3*t/r)}),s(o+1)},e.src=n})["catch"](function(n){return console.log("error: ",n)}))})(0)})},datauriToArraybuffer:function(n){var e,t,r,i,u,o,s,a;for(e=n.split(","),t=atob(e[1]),r=e[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),u=new Uint8Array(i),o=0,s=t.length;s>o;++o)a=o,u[a]=t.charCodeAt(a);return i},domToArraybuffer:function(n,e,t){var r=this;return"undefined"==typeof domtoimage||null===domtoimage?Promise.reject(new Error("dom-to-image not installed, which is required")):domtoimage.toPng(n).then(function(n){return r.imgurlToArraybuffer(n,e,t)})},imgurlToArraybuffer:function(n,e,t){return new Promise(function(r){var i;return i=new Image,i.onload=function(){var n,u,o,s;return n=null!=e?e:i.width,u=null!=t?t:i.height,o=document.createElement("canvas"),o.width=n,o.height=u,s=o.getContext("2d"),s.fillStyle="#ffffff",s.fillRect(0,0,n,u),s.drawImage(i,0,0,i.width,i.height,(n-i.width)/2,(u-i.height)/2,i.width,i.height),o.toBlob(function(n){var e;return e=new FileReader,e.onload=function(){return r(this.result)},e.readAsArrayBuffer(n)})},i.src=n})}})})),x$.service("eventBus",["$rootScope"].concat(function(){var n;return n=import$(this,{queues:{},handlers:{},process:function(n){var e,t,r,i,u,o=this;if(null==n&&(n=null),n)e=[[n,(i=this.queues)[n]||(i[n]=[])]];else{t=[];for(r in i=this.queues)u=i[r],t.push([r,u]);e=t}return e.map(function(e){var t,r,i,u,s,a,l,c,f;if(t=e[0],r=e[1],r&&r.length){for(i=0,s=(u=o.handlers[t]||[]).length;s>i;++i)for(a=u[i],l=0,c=r.length;c>l;++l)f=r[l],a.apply(null,[f[0]].concat(f[1]));return((u=o.queues)[n]||(u[n]=[])).splice(0,((u=o.queues)[n]||(u[n]=[])).length)}})},listen:function(n,e){var t;return((t=this.handlers)[n]||(t[n]=[])).push(e),this.process(n)},fire:function(n,e){var t,r;return t=slice$.call(arguments,2),((r=this.queues)[n]||(r[n]=[])).push([e,t]),this.process(n)}})})),x$.service("ldNotify",["$rootScope","$timeout"].concat(function(n,e){return import$(this,{queue:[],send:function(n,t){var r,i=this;return this.queue.push(r={type:n,message:t}),e(function(){return i.queue.splice(i.queue.indexOf(r),1)},5e3)},danger:function(n){return this.send("danger",n)},warning:function(n){return this.send("warning",n)},info:function(n){return this.send("info",n)},success:function(n){return this.send("success",n)}})})),x$.service("ldBase",["$rootScope","$timeout","ldNotify"].concat(function(n,e,t){return import$(this,{scrollto:function(n,e){return null==n&&(n=null),null==e&&(e=0),setTimeout(function(){var e;return e=n?$(n).offset().top-60:0,$(document.body).animate({scrollTop:e},"500","swing",function(){}),$("html").animate({scrollTop:e},"500","swing",function(){})},e)},track:function(n,e,t,r){return"undefined"!=typeof ga&&null!==ga?ga("send","event",n,e,t,r):void 0},notifications:t.queye})}));